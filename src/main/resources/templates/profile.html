<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"
          integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/Profile.css">
</head>

<body>
<header>
    <nav>
        <div class="top-nav-container">
            <a href="/homepage"><img class="logo-white" src="/images/darklogongang.png" alt="logo"></a>
        </div>
    </nav>
</header>
<hr>
<main>
    <div class="container profile-container">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-4">
                <nav class="sidebar">
                    <ul>
                        <li style="border-top-left-radius: 20px; border-top-right-radius: 20px;"><a
                                href="#" onclick="showProfile()"><i class="fa-regular fa-user"></i> My
                            Profile</a></li>
                        <li><a href="#" onclick="showBookingDetail()"><i class="fa-regular fa-calendar-check"></i>
                            My Booking</a></li>
                        <li><a href="#" onclick="showPurchaseHistory()"><i
                                class="fa-solid fa-clock-rotate-left"></i></i> My Purchase History</a></li>
                        <li><a href="#" onclick="showChangePassword()"><i class="fa-solid fa-lock"></i></i> Change
                            Password</a></li>
                        <li style="border-bottom-left-radius: 20px; border-bottom-right-radius: 20px;"><a href="#" onclick="showLogoutPopup()"><i class="fa-solid fa-arrow-right-from-bracket"></i> Log
                            Out</a></li>
                    </ul>
                </nav>
                <div class="poster-container" id="poster-container">
                    <img onclick="window.location.href='/homepage';" src="/images/poster.png">
                </div>
            </div>
            <!-- Main Content -->
            <div class="col-md-8 main-content">
                <div class="profile hidden" id="profile">
                    <h3>Personal Details<img src="/images/profile.png"
                                             style="height: 100px; width: 100px; margin-left: 410px;"></h3>
                    <form action="/updateprofile" method="post">
                        <table>
                            <tr class="detail-item">
                                <th><label>Full Name:</label></th>
                                <td class="detail">
                                    <span id="user-name" th:if="${user!=null}" th:text="${user.fullname}"></span>
                                    <input type="text" name="fullname" id="user-name-input"
                                           style="display: none;" th:if="${user!=null}" th:value="${user.fullname}">
                                </td>
                            </tr>
                            <tr class="detail-item">
                                <th><label>Email:</label></th>
                                <td class="detail">
                                    <span id="user-email" th:if="${user}" th:text="${user.email}"></span>
                                    <input type="email" id="user-email-input" name="email" th:if="${user}" th:value="${user.email}"
                                           style="display: none;">
                                </td>
                            </tr>
                            <tr class="detail-item">
                                <th><label>Phone Number:</label></th>
                                <td class="detail">
                                    <span id="user-phone" th:if="${user!=null}" th:text="${user.phoneNumber}"></span>
                                    <input type="phone" id="user-phone-input" name="phonenumber" style="display: none;"
                                           th:if="${user!=null}" th:value="${user.phoneNumber}">
                                </td>
                            </tr>
                            <tr class="detail-item">
                                <th><label>Address:</label></th>
                                <td class="detail">
                                    <span id="user-address" th:if="${user!=null}" th:text="${user.address}"></span>
                                    <input type="address" id="user-address-input"
                                           style="display: none;" name="address" th:if="${user!=null}" th:value="${user.address}">
                                </td>
                            </tr>
                        </table>
                        <button class="submit" id="update-button" style="display: none;">UPDATE</button>
                    </form>
                    <button class="btn" id="edit-button" onclick="enableEditing()">EDIT</button>
                </div>
                <div class="booking-detail hidden" id="booking-detail">
                    <h3>My Booking</h3>
                    <div class="booking-card">
                        <div class="booking-info">
                            <p class="booking-id">Booking ID: <strong>1014149999</strong></p>
                            <p class="booking-name">
                                <img src="/images/resort.png"> Overwater Bungalow
                            </p>
                            <span class="status pending">Pending</span>
                        </div>
                        <div class="booking-details">
                            <p class="price">$1130</p>
                            <a class="details-link">24/12/2024 - 25/12/2024</a>
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            <br><a class="request">request for cancel</a><br>
                        </div>
                    </div>
                    <div class="booking-card">
                        <div class="booking-info">
                            <p class="booking-id">Booking ID: <strong>1014149998</strong></p>
                            <p class="booking-name">
                                <img src="/images/resort.png"> Junior Suite
                            </p>
                            <span class="status success">Successful</span>
                        </div>
                        <div class="booking-details">
                            <p class="price">$978</p>
                            <a class="details-link">28/11/2024 - 30/11/2024</a>
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            <br><a class="request">request for cancel</a><br>
                        </div>
                    </div>
                </div>
                <div class="purchase-history hidden" id="purchase-history">
                    <h3>History Booking</h3>
                    <div class="purchase-card">
                        <div class="purchase-info">
                            <p class="purchase-id">Booking ID: <strong>1014149794</strong></p>
                            <p class="purchase-name">
                                <img src="/images/resort.png"> Villa
                            </p>
                            <span class="status success">Successful</span>
                        </div>
                        <div class="purchase-details">
                            <p class="price">$1.246</p>
                            <a class="details-link">19/10/2024 - 21/10/2024</a>
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="purchase-card">
                        <div class="purchase-info">
                            <p class="purchase-id">Booking ID: <strong>1014149795</strong></p>
                            <p class="purchase-name">
                                <img src="/images/resort.png"> President Suite
                            </p>
                            <span class="status success">Successful</span>
                        </div>
                        <div class="purchase-details">
                            <p class="price">$1.123</p>
                            <a class="details-link">1/5/2024 - 3/5/2024</a>
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="purchase-card">
                        <div class="purchase-info">
                            <p class="purchase-id">Booking ID: <strong>1014149796</strong></p>
                            <p class="purchase-name">
                                <img src="/images/resort.png"> Standard Room
                            </p>
                            <span class="status cancel">Canceled</span>
                        </div>
                        <div class="purchase-details">
                            <p class="price">$116</p>
                            <a class="details-link">1/2/2024 - 2/2/2024</a>
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                        </div>
                    </div>

                </div>
                <div class="change-password hidden" id="change-password">
                    <h3>Change Your Password</h3>
                    <table>
                        <tr class="detail-item">
                            <th><label>Current Password:</label></th>
                            <td class="detail">
                                <div class="password-wrapper">
                                    <input type="password" id="old-password-input" class="form-control" required>
                                    <span toggle="#old-password-input"
                                          class="fa fa-fw fa-eye field-icon toggle-password"
                                          style="cursor: pointer;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="detail-item">
                            <th><label>New Password:</label></th>
                            <td class="detail">
                                <div class="password-wrapper">
                                    <input type="password" id="new-password-input" class="form-control" required>
                                    <span toggle="#new-password-input"
                                          class="fa fa-fw fa-eye field-icon toggle-password"
                                          style="cursor: pointer;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="detail-item">
                            <th><label>Repeat Password:</label></th>
                            <td class="detail">
                                <div class="password-wrapper">
                                    <input type="password" id="repeat-password-input" class="form-control" required>
                                    <span toggle="#repeat-password-input"
                                          class="fa fa-fw fa-eye field-icon toggle-password"
                                          style="cursor: pointer;"></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <button class="change-password-btn" id="update-password-button"
                            onclick="checkPassword()">CHANGE-
                    </button>
                </div>
                <div class="popup hidden" id="logout-popup">
                    <div class="popup-content">
                        <h4>Are you sure to log out ?</h4>
                        <div class="popup-actions">
                            <button class="btn" id="confirm-logout">Yes</button>
                            <button class="btn btn-secondary" id="cancel-logout"
                                    onclick="hideLogoutPopup()">Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.0/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
</script>
</body>

</html>